title=Comment utiliser spring boot pour developper une application en ligne de commande ?
date=2017-07-11
type=post
tags=spring,cli
status=published
categories=blog
author=Just Me
~~~~~~

<p>
  Pour developper une application en ligne de commande,
  on peut utiliser une <a href="https://stackoverflow.com/questions/1524661/the-best-cli-parser-for-java">plethore d'outils</a>.
  En voici un de plus.
</p>

<h1>Les parametres de la ligne de commande</h1>

<p>Les parametres de la ligne de commande sont a declarer dans une classe annotee.</p>

<pre class="prettyprint">
  <code class="java">package `fun`.kode.spring.cli

import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.ApplicationArguments
import org.springframework.boot.ApplicationRunner
import org.springframework.boot.SpringBootConfiguration
import org.springframework.boot.autoconfigure.SpringBootApplication

import org.springframework.boot.context.properties.ConfigurationProperties
import org.springframework.stereotype.Component

@Component
@ConfigurationProperties
open class KOptions (var author: String? = null, var prices: List<Int>? = null)

@SpringBootConfiguration
@SpringBootApplication
open class Kommand : ApplicationRunner {

    @Autowired
    private var options: KOptions? = null

    override fun run(applicationArguments: ApplicationArguments) {
        println("${options?.author} sells books for ${options?.prices}")
    }
}
  </code>
</pre>
